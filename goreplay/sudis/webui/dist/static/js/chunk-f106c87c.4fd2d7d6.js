(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f106c87c"],{"29ed":function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"h-100"},[n("VTitle",{attrs:{"title-class":"fa-file-text",title:"日志查看【"+t.name+"】"}}),n("div",{staticClass:"logger p-3"},t._l(t.lines,(function(e){return n("div",[t._v(t._s(e))])})),0)],1)},i=[],a=(n("f548"),n("cc57"),n("c0cf")),c={name:"ProgramLogger",components:{VTitle:a["a"]},data:function(){return{node:"",name:"",lines:[]}},mounted:function(){this.node=this.$route.query.node,this.name=this.$route.query.name,this.init()},destroyed:function(){this.socket.close()},methods:{getDomain:function(){var t="";if(void 0!==t&&""!==t)return t;var e=window.location.href.substr(0,window.location.href.indexOf("/",8));return e=e.replace("https://","wss://"),e=e.replace("http://","ws://"),e},init:function(){var t=this;if("undefined"===typeof WebSocket)alert("您的浏览器不支持socket");else{var e=this;this.socket=new WebSocket(e.getDomain()+"/admin/program/logs"),this.socket.onopen=function(){e.socket.send(JSON.stringify({name:t.name,node:t.node,user:localStorage.getItem("x-user"),ticket:localStorage.getItem("x-ticket")}))},this.socket.onmessage=this.getMessage}},getMessage:function(t){this.lines.push(t.data)}}},o=c,r=n("9ca4"),l=Object(r["a"])(o,s,i,!1,null,null,null);e["default"]=l.exports},c0cf:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ol",{staticClass:"breadcrumb breadcrumb-fixed"},[n("li",{staticClass:"breadcrumb-item"},[n("i",{staticClass:"fa",class:t.titleClass}),t._v(" "+t._s(t.title)+"\n    ")]),n("li",{staticClass:"ml-auto"},[t._t("default")],2)])},i=[],a={name:"vTitle",props:{title:String,titleClass:{type:String,default:""}}},c=a,o=n("9ca4"),r=Object(o["a"])(c,s,i,!1,null,null,null);e["a"]=r.exports},cc57:function(t,e,n){var s=n("064e").f,i=Function.prototype,a=/^\s*function ([^ (]*)/,c="name";c in i||n("149f")&&s(i,c,{configurable:!0,get:function(){try{return(""+this).match(a)[1]}catch(t){return""}}})}}]);
//# sourceMappingURL=chunk-f106c87c.4fd2d7d6.js.map